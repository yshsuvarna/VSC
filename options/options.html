<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VSC — Video Speed Controller Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>VSC — Video Speed Controller</h1>
      <p class="subtitle">Universal video/audio speed controller with privacy-first design</p>
    </header>

    <main class="main">
      <!-- Keyboard Shortcuts Section -->
      <section class="section">
        <h2>Keyboard Shortcuts</h2>
        <p class="section-description">Customize keyboard shortcuts for controlling video speed and playback.</p>
        
        <div class="shortcuts-grid">
          <div class="shortcut-item">
            <label for="key-dec">Decrease Speed</label>
            <input type="text" id="key-dec" class="key-input" readonly>
            <span class="shortcut-description">Decrease playback speed by step amount</span>
          </div>
          
          <div class="shortcut-item">
            <label for="key-inc">Increase Speed</label>
            <input type="text" id="key-inc" class="key-input" readonly>
            <span class="shortcut-description">Increase playback speed by step amount</span>
          </div>
          
          <div class="shortcut-item">
            <label for="key-reset">Reset Speed</label>
            <input type="text" id="key-reset" class="key-input" readonly>
            <span class="shortcut-description">Reset playback speed to 1.0×</span>
          </div>
          
          <div class="shortcut-item">
            <label for="key-back">Rewind</label>
            <input type="text" id="key-back" class="key-input" readonly>
            <span class="shortcut-description">Seek backward by seek amount</span>
          </div>
          
          <div class="shortcut-item">
            <label for="key-fwd">Forward</label>
            <input type="text" id="key-fwd" class="key-input" readonly>
            <span class="shortcut-description">Seek forward by seek amount</span>
          </div>
          
          <div class="shortcut-item">
            <label for="key-toggle">Toggle Overlay</label>
            <input type="text" id="key-toggle" class="key-input" readonly>
            <span class="shortcut-description">Show/hide the speed controller overlay</span>
          </div>
        </div>

        <div class="conflicts-warning" id="conflicts-warning" style="display: none;">
          <h3>⚠️ Key Conflicts Detected</h3>
          <ul id="conflicts-list"></ul>
        </div>
      </section>

      <!-- Speed Settings Section -->
      <section class="section">
        <h2>Speed Settings</h2>
        <p class="section-description">Configure how speed changes are applied.</p>
        
        <div class="settings-grid">
          <div class="setting-item">
            <label for="speed-step">Speed Step</label>
            <input type="number" id="speed-step" min="0.05" max="1.0" step="0.05" value="0.1">
            <span class="setting-description">Amount to increase/decrease speed with each key press</span>
          </div>
          
          <div class="setting-item">
            <label for="seek-seconds">Seek Seconds</label>
            <input type="number" id="seek-seconds" min="1" max="300" step="1" value="10">
            <span class="setting-description">Number of seconds to seek forward/backward</span>
          </div>
        </div>
      </section>

      <!-- Memory Settings Section -->
      <section class="section">
        <h2>Speed Memory</h2>
        <p class="section-description">Choose how VSC remembers your preferred playback speeds.</p>
        
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="remember-speed" value="off">
            <span class="radio-label">
              <strong>Off</strong>
              <span class="radio-description">Don't remember speeds between sessions</span>
            </span>
          </label>
          
          <label class="radio-item">
            <input type="radio" name="remember-speed" value="global">
            <span class="radio-label">
              <strong>Global</strong>
              <span class="radio-description">Remember one speed for all videos</span>
            </span>
          </label>
          
          <label class="radio-item">
            <input type="radio" name="remember-speed" value="site">
            <span class="radio-label">
              <strong>Per-site</strong>
              <span class="radio-description">Remember different speeds for each website</span>
            </span>
          </label>
        </div>
      </section>

      <!-- Behavior Settings Section -->
      <section class="section">
        <h2>Behavior Settings</h2>
        <p class="section-description">Configure how VSC behaves on different types of content.</p>
        
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="include-audio">
            <span class="checkbox-label">
              <strong>Apply to Audio Elements</strong>
              <span class="checkbox-description">Control speed of &lt;audio&gt; elements in addition to videos</span>
            </span>
          </label>
          
          <label class="checkbox-item">
            <input type="checkbox" id="kb-works-hidden">
            <span class="checkbox-label">
              <strong>Keyboard Works When Overlay Hidden</strong>
              <span class="checkbox-description">Allow keyboard shortcuts even when the overlay is not visible</span>
            </span>
          </label>
        </div>
      </section>

      <!-- Advanced Settings Section -->
      <section class="section">
        <h2>Advanced Settings</h2>
        <p class="section-description">Advanced features for maximum compatibility with streaming sites.</p>
        
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="anti-reset-patch">
            <span class="checkbox-label">
              <strong>Anti-Reset Patch</strong>
              <span class="checkbox-description">Prevent sites from resetting your chosen speed (recommended for streaming sites)</span>
            </span>
          </label>
          
          <label class="checkbox-item">
            <input type="checkbox" id="force-keys">
            <span class="checkbox-label">
              <strong>Force Keys (Page-World Capture)</strong>
              <span class="checkbox-description">Intercept keys at the page level for better compatibility (may conflict with site shortcuts)</span>
            </span>
          </label>
        </div>

        <div class="warning-box" id="force-keys-warning" style="display: none;">
          <h4>⚠️ Warning</h4>
          <p>Page-world key capture may interfere with website shortcuts and functionality. Use only if keyboard shortcuts don't work properly on certain sites.</p>
        </div>
      </section>

      <!-- Domain Management Section -->
      <section class="section">
        <h2>Domain Management</h2>
        <p class="section-description">Disable VSC on specific websites.</p>
        
        <div class="domain-controls">
          <div class="input-group">
            <input type="text" id="domain-input" placeholder="example.com" class="domain-input">
            <button type="button" id="add-domain" class="btn btn-secondary">Add Domain</button>
          </div>
          
          <div class="domain-list" id="domain-list">
            <p class="empty-state">No domains disabled</p>
          </div>
        </div>
      </section>

      <!-- Site Speeds Section -->
      <section class="section">
        <h2>Stored Site Speeds</h2>
        <p class="section-description">View and manage speeds stored for different websites.</p>
        
        <div class="site-speeds" id="site-speeds">
          <p class="empty-state">No site speeds stored</p>
        </div>
        
        <button type="button" id="clear-speeds" class="btn btn-danger">Clear All Stored Speeds</button>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-actions">
        <button type="button" id="reset-defaults" class="btn btn-secondary">Reset to Defaults</button>
        <button type="button" id="save-settings" class="btn btn-primary">Save Settings</button>
      </div>
      
      <div class="footer-info">
        <p>VSC — Video Speed Controller v1.0.0</p>
        <p>Privacy-first design • No telemetry • No external requests</p>
      </div>
    </footer>
  </div>

  <script src="options.js"></script>
</body>
</html>
